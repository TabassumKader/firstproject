<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="org.example.first_project.controllers.CustomerDashboardController">

    <!-- Top Section: Header -->
    <top>
        <HBox spacing="10" style="-fx-padding: 10; -fx-background-color: #f0f0f0;">
            <Label fx:id="welcomeLabel" style="-fx-font-size: 18px;"/>
            <Region HBox.hgrow="ALWAYS"/>
            <Button text="Logout" onAction="#handleLogout"/>
        </HBox>
    </top>

    <!-- Left Section: Quick Actions -->
    <left>
        <VBox spacing="10" style="-fx-padding: 10; -fx-background-color: #f8f8f8;">
            <Button text="Pay Bill" maxWidth="Infinity" onAction="#handlePayBill"/>
            <Button text="Submit Complaint" maxWidth="Infinity" onAction="#handleSubmitComplaint"/>
            <Button text="Book Technician" maxWidth="Infinity" onAction="#handleBookTechnician"/>
            <Button text="View Consumption" maxWidth="Infinity" onAction="#handleViewConsumption"/>
            <Button text="Update Profile" maxWidth="Infinity" onAction="#handleUpdateProfile"/>
            <Button text="View Documents" maxWidth="Infinity" onAction="#handleViewDocuments"/>
        </VBox>
    </left>

    <!-- Center Section: Main Content -->
    <center>
        <ScrollPane fitToWidth="true">
            <VBox spacing="20" style="-fx-padding: 20;">
                <!-- Customer Information -->
                <TitledPane text="Account Information" expanded="true">
                    <GridPane hgap="10" vgap="10">
                        <Label fx:id="customerIdLabel" GridPane.columnIndex="0" GridPane.rowIndex="0"/>
                        <Label fx:id="connectionStatusLabel" GridPane.columnIndex="1" GridPane.rowIndex="0"/>
                        <Label fx:id="meterNumberLabel" GridPane.columnIndex="0" GridPane.rowIndex="1"/>
                        <Label fx:id="currentReadingLabel" GridPane.columnIndex="1" GridPane.rowIndex="1"/>
                        <Label fx:id="billAmountLabel" GridPane.columnIndex="0" GridPane.rowIndex="2"/>
                    </GridPane>
                </TitledPane>

                <!-- Bill History -->
                <TitledPane text="Bill History" expanded="true">
                    <VBox spacing="10">
                        <ListView fx:id="billsList" prefHeight="200"/>
                    </VBox>
                </TitledPane>

                <!-- Complaints History -->
                <TitledPane text="Complaint History" expanded="true">
                    <VBox spacing="10">
                        <ListView fx:id="complaintsList" prefHeight="200"/>
                    </VBox>
                </TitledPane>
            </VBox>
        </ScrollPane>
    </center>

    <!-- Status Bar -->
    <bottom>
        <HBox style="-fx-padding: 5; -fx-background-color: #f0f0f0;">
            <Label text="Last Updated: "/>
            <Label fx:id="lastUpdateLabel"/>
            <Region HBox.hgrow="ALWAYS"/>
            <ProgressIndicator fx:id="loadingIndicator" visible="false"/>
        </HBox>
    </bottom>

</BorderPane>
